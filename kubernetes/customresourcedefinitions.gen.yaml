# DO NOT EDIT - Generated by Cue OpenAPI generator based on Istio APIs.
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: circuitbreakers.policy.opensergo.io
spec:
  group: policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: CircuitBreaker
    listKind: CircuitBreakerList
    plural: circuitbreakers
    singular: circuitbreaker
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the circuit breaker works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                oneOf:
                - not:
                    anyOf:
                    - required:
                      - slowRequest
                    - required:
                      - errorRequest
                - required:
                  - slowRequest
                - required:
                  - errorRequest
                properties:
                  abnormalPercent:
                    type: integer
                  breakingInterval:
                    type: string
                  errorRequest:
                    properties:
                      conditions:
                        items:
                          type: string
                        type: array
                    type: object
                  interval:
                    type: string
                  minRequests:
                    type: integer
                  recovery:
                    properties:
                      probeCount:
                        type: integer
                    type: object
                  slowRequest:
                    properties:
                      latency:
                        type: string
                    type: object
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: concurrencylimitings.policy.opensergo.io
spec:
  group: policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: ConcurrencyLimiting
    listKind: ConcurrencyLimitingList
    plural: concurrencylimitings
    singular: concurrencylimiting
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the concurrency limiting works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                description: The config for concurrency limiting.
                properties:
                  maxConcurrency:
                    type: integer
                  scope:
                    enum:
                    - LOCAL
                    - GLOBAL
                    - GLOBAL_TO_LOCAL
                    type: string
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: ratelimitings.policy.opensergo.io
spec:
  group: policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: RateLimiting
    listKind: RateLimitingList
    plural: ratelimitings
    singular: ratelimiting
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the rate limiting works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                description: The config for rate limiting.
                properties:
                  burst:
                    description: The max requests can pass instantly.
                    type: integer
                  interval:
                    type: string
                  limit:
                    description: The max requests can pass within the window.
                    type: integer
                  scope:
                    enum:
                    - LOCAL
                    - GLOBAL
                    - GLOBAL_TO_LOCAL
                    type: string
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: circuitbreakers.resilience.policy.opensergo.io
spec:
  group: resilience.policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: CircuitBreaker
    listKind: CircuitBreakerList
    plural: circuitbreakers
    singular: circuitbreaker
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the circuit breaker works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                oneOf:
                - not:
                    anyOf:
                    - required:
                      - slowRequest
                    - required:
                      - errorRequest
                - required:
                  - slowRequest
                - required:
                  - errorRequest
                properties:
                  abnormalPercent:
                    type: integer
                  breakingInterval:
                    type: string
                  errorRequest:
                    properties:
                      conditions:
                        items:
                          type: string
                        type: array
                    type: object
                  interval:
                    type: string
                  minRequests:
                    type: integer
                  recovery:
                    properties:
                      probeCount:
                        type: integer
                    type: object
                  slowRequest:
                    properties:
                      latency:
                        type: string
                    type: object
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: concurrencylimitings.trafficcontrol.policy.opensergo.io
spec:
  group: trafficcontrol.policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: ConcurrencyLimiting
    listKind: ConcurrencyLimitingList
    plural: concurrencylimitings
    singular: concurrencylimiting
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the concurrency limiting works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                description: The config for concurrency limiting.
                properties:
                  maxConcurrency:
                    type: integer
                  scope:
                    enum:
                    - LOCAL
                    - GLOBAL
                    - GLOBAL_TO_LOCAL
                    type: string
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: ratelimitings.trafficcontrol.policy.opensergo.io
spec:
  group: trafficcontrol.policy.opensergo.io
  names:
    categories:
    - opensergo-io
    kind: RateLimiting
    listKind: RateLimitingList
    plural: ratelimitings
    singular: ratelimiting
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              action:
                description: The fallback action when the rate limiting works.
                oneOf:
                - not:
                    anyOf:
                    - properties:
                        http:
                          oneOf:
                          - not:
                              anyOf:
                              - required:
                                - customResponse
                              - required:
                                - redirect
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      required:
                      - http
                - properties:
                    http:
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - customResponse
                          - required:
                            - redirect
                      - required:
                        - customResponse
                      - required:
                        - redirect
                  required:
                  - http
                properties:
                  http:
                    properties:
                      customResponse:
                        properties:
                          body:
                            type: string
                          bodyEncoding:
                            enum:
                            - TEXT
                            - JSON
                            type: string
                          responseHeadersToAdd:
                            additionalProperties:
                              type: string
                            type: object
                          statusCode:
                            type: integer
                        type: object
                      redirect:
                        properties:
                          redirectUrl:
                            type: string
                        type: object
                    type: object
                type: object
              config:
                description: The config for rate limiting.
                properties:
                  burst:
                    description: The max requests can pass instantly.
                    type: integer
                  interval:
                    type: string
                  limit:
                    description: The max requests can pass within the window.
                    type: integer
                  scope:
                    enum:
                    - LOCAL
                    - GLOBAL
                    - GLOBAL_TO_LOCAL
                    type: string
                type: object
              selector:
                properties:
                  routes:
                    items:
                      properties:
                        name:
                          type: string
                      type: object
                    type: array
                  workloads:
                    items:
                      properties:
                        labels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                    type: array
                type: object
            type: object
          status:
            type: object
            x-kubernetes-preserve-unknown-fields: true
        type: object
    served: true
    storage: false
    subresources:
      status: {}

---
